---
title: V2ray
date created: 2023-01-06
date modified: 2023-03-14
---

## 基础配置项理解

V2Ray 使用 inbound(传入) 和 outbound(传出) 的结构，这样的结构非常清晰地体现了数据包的流动方向，同时也使得 V2Ray 功能强大复杂的同时而不混乱，清晰明了。形象地说，我们可以把 V2Ray 当作一个盒子，这个盒子有入口和出口(即 inbound 和 outbound)，我们将数据包通过某个入口放进这个盒子里，然后这个盒子以某种机制（这个机制其实就是路由，后面会讲到）决定这个数据包从哪个出口吐出来。以这样的角度理解的话，V2Ray 做客户端，则 inbound 接收来自浏览器数据，由 outbound 发出去(通常是发到 V2Ray 服务器)；V2Ray 做服务器，则 inbound 接收来自 V2Ray 客户端的数据，由 outbound 发出去(通常是如 Google 等想要访问的目标网站)。

## 几个高级配置项的当前理解

- mux
	- 可开可不开。
	- 多路复用，将多条请求合并成一条tcp请求。
	- 可能在非常多并发tcp连接请求的场景下会有用，比如开n个浏览器同时打开n个网站，同时加载很多图片等。
- mKCP
	- 可开可不开。
	- 基于udp协议，做了一些专门针对网络代理和转发等用途的优化。
	- 如果网络条件很差，比如还使用3g手机网络的话，开起来可能会好一些些。
- 动态端口
	- 可开可不开
	- 有些运营商可能会对某个端口的长时间大流量请求做网速限制，此时可能有用。
- HTTP伪装
	- 目前我还没用上
	- 将请求设置成好像一个普通的http请求
- TLS
	- 需要自己配置证书，有点麻烦，我还没用上
	- 作用是将所有转发代理的请求，都进行加密传输。
	- 感觉现在大部分网站和服务都已经自带tls了，启用TLS又没法起到伪装或混淆以骗过GFW的作用，所以感觉目前开启作用不大。
- WebSocket
	- 目前刚用上
	- 之前使用tcp协议，用了6个月后，IP开始频繁被封，尝试换成这个ws协议看看效果。
	- [[目前v2ray支持的传输协议]]
- 反向代理
	- 目前没用上
	- 就是加个nginx等，进行path路径转发，在客户端可以看到有个path配置项，目前我没用上。
	- 不确定这个path加了以后，是否能降低被封概率。
- CDN
	- 目前没用上
	- 网上有文章说配置CDN后，由于域名解析出的IP是CDN而非我们服务端的真实IP，所以可以有效解决IP被屏蔽问题。
	- 但我目前配置殤cloudflare加上proxy以后，连接不上，以后再试试。

## 参考文献

[| V2Fly.org](https://www.v2fly.org/)

[V2Ray 配置指南 | 新 V2Ray 白话文指南](https://guide.v2fly.org/)
